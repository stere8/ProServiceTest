<!-- assigned-tasks.component.html -->
<div class="assigned-tasks-container">
  <h3>Assigned Tasks</h3>

  <div class="tasks-list" *ngIf="tasks.length > 0; else noTasks">
    <mat-card *ngFor="let task of tasks" class="task-card">
      <mat-card-header>
        <mat-card-title>{{ task.shortDescription }}</mat-card-title>
        <mat-card-subtitle>
          Difficulty: {{ task.difficulty }} | Type: {{ task.taskType }}
        </mat-card-subtitle>
      </mat-card-header>

      <mat-card-content>
        <div class="task-details">
          <div *ngIf="task.taskType === 'Implementation'">
            <p><strong>Implementation Content:</strong></p>
            <p>{{ task.implementationContent }}</p>
          </div>

          <div *ngIf="task.taskType === 'Deployment'">
            <p><strong>Deadline:</strong> {{ task.deadline | date }}</p>
            <p><strong>Deployment Scope:</strong> {{ task.deploymentScope }}</p>
          </div>

          <div *ngIf="task.taskType === 'Maintenance'">
            <p><strong>Deadline:</strong> {{ task.deadline | date }}</p>
            <p><strong>Services:</strong> {{ task.listOfServices }}</p>
            <p><strong>Servers:</strong> {{ task.listOfServers }}</p>
          </div>
        </div>
      </mat-card-content>

      <mat-card-actions>
        <mat-chip-listbox>
          <mat-chip [color]="task.status === 'Done' ? 'accent' : 'primary'">
            {{ task.status }}
          </mat-chip>
        </mat-chip-listbox>
      </mat-card-actions>
    </mat-card>
  </div>

  <ng-template #noTasks>
    <div class="no-tasks">
      <p>No tasks are currently assigned.</p>
    </div>
  </ng-template>
</div>
